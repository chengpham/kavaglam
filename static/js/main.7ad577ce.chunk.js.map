{"version":3,"sources":["actions/baseURL.js","actions/userActions.js","reducers/userReducer.js","actions/cartActions.js","reducers/cartReducer.js","actions/payActions.js","actions/reviewActions.js","reducers/rootReducer.js","reducers/payReducer.js","reducers/reviewReducer.js","components/MaintenancePage.js","App.js","index.js","initialState.js"],"names":["BASE_URL","CURRENT_USER","CREATE_SESSION","DESTROY_SESSION","CREATE_USER","CREATE_PROFILE","initState","email","admin","profile","INITIAL_STATE","CURRENT_CART","ADD_ITEM","REMOVE_ITEM","SUB_QUANTITY","ADD_QUANTITY","ADD_SHIPPING","SUB_SHIPPING","ADD_MSG","ADD_PROMO","CREATE_ORDER","currentCart","dispatch","fetch","credentials","method","then","res","json","data","type","addedItems","items","promo","total","subtotal","discount","shipping","msg","order","PAYMENT_INTENT","CREATE","REVIEWS","rootReducer","combineReducers","currentUser","state","action","cart","newTotal","reduce","acc","i","quantity","find","p","productID","product_id","price","copyAddedItems","Array","addedItem","existed_item","removeItem","itemToRemove","new_items","filter","error","percent","orderID","payment","review","MaintenancePage","className","src","alt","App","useDispatch","useSelector","user","useState","useEffect","headers","component","store","createStore","applyMiddleware","thunk","ReactDOM","render","stripe","loadStripe","process","document","getElementById"],"mappings":"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","file":"static/js/main.7ad577ce.chunk.js","sourcesContent":["export const BASE_URL = !process.env.NODE_ENV || process.env.NODE_ENV === 'development' ? \r\n'http://localhost:3000' :\r\n// 'https://nuooy0hvj2.execute-api.ca-central-1.amazonaws.com/dev' :\r\n'https://nuooy0hvj2.execute-api.ca-central-1.amazonaws.com/dev'\r\n","import { BASE_URL } from './baseURL'\r\n\r\nexport const CURRENT_USER = 'CURRENT_USER';\r\nexport const CREATE_SESSION = 'CREATE_SESSION';\r\nexport const DESTROY_SESSION = 'DESTROY_SESSION';\r\nexport const CREATE_USER = 'CREATE_USER';\r\nexport const CREATE_PROFILE = 'CREATE_PROFILE';\r\n\r\nexport const currentUser = ()=>{\r\n    return function(dispatch){\r\n        return fetch(`${BASE_URL}/auth/current_user`, {\r\n            headers: { 'Content-Type': 'application/json' },\r\n            credentials: 'include', \r\n            method: 'GET'\r\n        }).then(res=>res.json())\r\n        .then(data=> {\r\n            if (data.email) dispatch({ type: CURRENT_USER, currentUser: data })\r\n        })\r\n        \r\n    }\r\n}\r\nexport const createSession = (params)=>{\r\n    return function(dispatch){\r\n        return fetch(`${BASE_URL}/auth/session`, {\r\n            headers: { 'Content-Type':'application/json' },\r\n            credentials: 'include', \r\n            method: 'POST',\r\n            body: JSON.stringify(params)\r\n        }).then(res=>res.json())\r\n        .then(data=> dispatch({ type: CREATE_SESSION, currentUser: data }))\r\n    }\r\n}\r\nexport const destroySession = ()=>{\r\n    return function(dispatch){\r\n        return fetch(`${BASE_URL}/auth/session`, {\r\n            credentials: 'include', \r\n            method: 'DELETE'\r\n        }).then(res=>res.json())\r\n        .then(()=> dispatch({ type: DESTROY_SESSION }))\r\n    }\r\n}\r\nexport const createUser = (params)=>{\r\n    return function(dispatch){\r\n        return fetch(`${BASE_URL}/auth/create_user`, {\r\n            headers: { 'Content-Type':'application/json' },\r\n            credentials: 'include', \r\n            method: 'POST',\r\n            body: JSON.stringify(params)\r\n        }).then(res=>res.json())\r\n        .then(data=> dispatch({ type: CREATE_USER, currentUser: data }))\r\n    }\r\n}\r\nexport const createProfile = (data)=>{\r\n    return function(dispatch){\r\n        // return fetch(`${BASE_URL}/auth/create_user`, {\r\n        //     headers: { 'Content-Type':'application/json' },\r\n        //     credentials: 'include', \r\n        //     method: 'POST',\r\n        //     body: JSON.stringify(params)\r\n        // }).then(res=>res.json())\r\n        // .then(data=> dispatch({ type: CREATE_PROFILE, currentUser: data }))\r\n        dispatch({ type: CREATE_PROFILE, data })\r\n    }\r\n}\r\n","import { CURRENT_USER, CREATE_SESSION, DESTROY_SESSION, CREATE_USER, CREATE_PROFILE } from '../actions/userActions'\r\n\r\nconst initState = { email: '', admin: false, profile: {}}\r\nexport const currentUser = (state=initState, action)=>{\r\n    switch (action.type){\r\n        case CURRENT_USER:\r\n            return { ...state, email: action.currentUser.email, admin: action.currentUser.admin }\r\n        case CREATE_SESSION:\r\n            return { ...state, email: action.currentUser.email, admin: action.currentUser.admin }\r\n        case DESTROY_SESSION:\r\n            return initState\r\n        case CREATE_USER: \r\n        return { ...state, email: action.currentUser.email }\r\n        case CREATE_PROFILE: \r\n            return { ...state, profile: action.data }\r\n        default: \r\n            return state\r\n    }\r\n}","import { BASE_URL } from './baseURL'\r\nimport { store } from '../index.js'\r\n\r\nexport const INITIAL_STATE = 'INITIAL_STATE';\r\nexport const CURRENT_CART = 'CURRENT_CART';\r\nexport const ADD_ITEM = 'ADD_ITEM';\r\nexport const REMOVE_ITEM = 'REMOVE_ITEM';\r\nexport const SUB_QUANTITY = 'SUB_QUANTITY';\r\nexport const ADD_QUANTITY = 'ADD_QUANTITY';\r\nexport const ADD_SHIPPING = 'ADD_SHIPPING';\r\nexport const SUB_SHIPPING = 'SUB_SHIPPING';\r\nexport const ADD_MSG = 'ADD_MSG'\r\nexport const ADD_PROMO = 'ADD_PROMO';\r\nexport const CREATE_ORDER = 'CREATE_ORDER';\r\n\r\nexport const initState = ()=>{\r\n    return function(dispatch){\r\n        return fetch(`${BASE_URL}/product/initial`,{\r\n            method: 'GET'\r\n        }).then(res=> res.json())\r\n        .then(data=> dispatch({ type: INITIAL_STATE,  items: data }))\r\n    }\r\n}\r\n\r\nexport const currentCart = ()=>{\r\n    return function(dispatch){\r\n        return fetch(`${BASE_URL}/cart/current_cart`, {\r\n            credentials: 'include', \r\n            method: 'GET'\r\n        }).then(res=> res.json())\r\n        .then(data=> dispatch({ type: CURRENT_CART, data }) )\r\n    }\r\n}\r\nexport const addItem = (id)=>{\r\n    return function(dispatch){\r\n        return fetch(`${BASE_URL}/cart/item`, {\r\n            headers: {'Content-Type':'application/json'},\r\n            credentials: 'include', \r\n            method: 'POST',\r\n            body: JSON.stringify({product_id: id, quantity: 1})\r\n        }).then(res=> res.json())\r\n        .then(data=> dispatch({ type: ADD_ITEM, data }))\r\n    }\r\n}\r\nexport const removeItem = ({cartID, product_id})=>{\r\n    return function(dispatch){\r\n        return fetch(`${BASE_URL}/cart/item`, {\r\n            headers: {'Content-Type':'application/json'},\r\n            credentials: 'include', \r\n            method: 'DELETE',\r\n            body: JSON.stringify({cartID, product_id})\r\n        }).then(res=> res.json())\r\n        .then(data=> dispatch({ type: REMOVE_ITEM, data }))\r\n    }\r\n}\r\nexport const subtractQuantity = ({cartID, product_id})=>{\r\n    return function(dispatch){\r\n        return fetch(`${BASE_URL}/cart/sub`, {\r\n            headers: {'Content-Type':'application/json'},\r\n            credentials: 'include', \r\n            method: 'POST',\r\n            body: JSON.stringify({cartID, product_id})\r\n        }).then(res=> res.json())\r\n        .then(data=> dispatch({ type: SUB_QUANTITY, data }))\r\n    }\r\n}\r\nexport const addQuantity = ({cartID, product_id})=>{\r\n    return function(dispatch){\r\n        return fetch(`${BASE_URL}/cart/add`, {\r\n            headers: {'Content-Type':'application/json'},\r\n            credentials: 'include', \r\n            method: 'POST',\r\n            body: JSON.stringify({cartID, product_id})\r\n        }).then(res=> res.json())\r\n        .then(data=> dispatch({ type: ADD_QUANTITY, data }))\r\n    }\r\n}\r\nexport const addShipping = (data)=>{\r\n    return function(dispatch){\r\n        dispatch({ type: ADD_SHIPPING, data })\r\n    }\r\n}\r\nexport const subShipping = (id)=>{\r\n    return { type: SUB_SHIPPING, id }\r\n}\r\nexport const addMsg = (data) => {\r\n    return function(dispatch){\r\n        dispatch({ type: ADD_MSG, data})\r\n    }\r\n}\r\nexport const addPromo = (params)=>{\r\n    return function(dispatch){\r\n        return fetch(`${BASE_URL}/promo/validate`, {\r\n            headers: {'Content-Type':'application/json'},\r\n            credentials: 'include', \r\n            method: 'POST',\r\n            body: JSON.stringify({promo: params})\r\n        }).then(res=> res.json())\r\n        .then(data=> dispatch({ type: ADD_PROMO, data }))\r\n    }\r\n}\r\nexport const addOrder = ()=>{\r\n    return function(dispatch){\r\n        return fetch(`${BASE_URL}/order/create`, {\r\n            headers: {'Content-Type':'application/json'},\r\n            credentials: 'include', \r\n            method: 'POST',\r\n            body: JSON.stringify({ cart: store.getState().cart, profile: store.getState().currentUser.profile})\r\n        }).then(res=> res.json())\r\n        .then(data=> dispatch({ type: CREATE_ORDER, data }))\r\n    }\r\n}\r\n\r\n","import { INITIAL_STATE, CURRENT_CART, ADD_ITEM, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY, ADD_SHIPPING, SUB_SHIPPING, ADD_MSG, ADD_PROMO, CREATE_ORDER } from '../actions/cartActions'\r\n\r\nlet initState = { addedItems: [], items: [], promo: {}, total: 0, subtotal: 0,  discount: 0, shipping: 0, msg:'', order:'' } \r\n\r\nexport const cart = (state=initState, action)=>{\r\n    if (action.type === INITIAL_STATE){\r\n        return {  ...state, items: action.items }\r\n    }\r\n    if (action.type === CURRENT_CART){\r\n        let newTotal = action.data.items ? action.data.items.reduce((acc,i)=>{ \r\n            return acc + i.quantity * state.items.find(p=>p.productID === i.product_id).price \r\n        }, 0) : 0\r\n        return { ...state, addedItems: action.data.items, total: newTotal }\r\n    }\r\n    if (action.type === ADD_ITEM){\r\n        let copyAddedItems = state.addedItems ? state.addedItems : new Array(0)\r\n        let addedItem = state.items.find(p=> p.productID === action.data.product_id)\r\n        let existed_item = state.addedItems ? state.addedItems.find(p=>p.product_id === action.data.product_id) : null\r\n        if (existed_item){\r\n            existed_item.quantity += 1 \r\n            return { ...state, total: state.total + addedItem.price }\r\n        } else {\r\n            return { ...state, addedItems: [...copyAddedItems, action.data], total: state.total + addedItem.price }\r\n        }\r\n    }\r\n    if(action.type === REMOVE_ITEM){\r\n        let removeItem = state.items.find(p=> p.productID === action.data.product_id)\r\n        let itemToRemove = state.addedItems.find(p=> p.product_id === action.data.product_id)\r\n        let new_items = state.addedItems.filter(p=> p.product_id !== action.data.product_id)\r\n        return { ...state, addedItems: new_items, total: state.total - (removeItem.price * itemToRemove.quantity) }\r\n    }\r\n    if (action.type === ADD_QUANTITY){\r\n        let addedItem = state.items.find(p=> p.productID === action.data.product_id)\r\n        state.addedItems.find(p=>p.product_id === action.data.product_id).quantity += 1\r\n        return { ...state, total: state.total + addedItem.price }\r\n    }\r\n    if (action.type === SUB_QUANTITY){  \r\n        let addedItem = state.items.find(p=> p.productID === action.data.product_id)\r\n        let existed_item = state.addedItems.find(p=>p.product_id === action.data.product_id) \r\n        if (existed_item.quantity === 1){\r\n            let new_items = state.addedItems.filter(p=>p.product_id !== action.data.product_id)\r\n            return { ...state, addedItems: new_items, total: state.total - addedItem.price }\r\n        } else {\r\n            existed_item.quantity -= 1\r\n            return { ...state, total: state.total - addedItem.price }\r\n        }\r\n    }\r\n    if (action.type === ADD_SHIPPING){\r\n        if (state.discount){\r\n            return { ...state, shipping: action.data, subtotal: state.total + action.data - state.discount }\r\n        } else {\r\n            return  { ...state, shipping: action.data, subtotal: state.total + action.data }\r\n        }\r\n    }\r\n    if (action.type === SUB_SHIPPING){\r\n        return { ...state, total: state.total - 0 }\r\n    } \r\n    if (action.type === ADD_MSG){\r\n        return { ...state, msg: action.data}\r\n    }\r\n    if (action.type === ADD_PROMO){\r\n        if (action.data.error) {\r\n            return { ...state, discount: 0, subtotal: state.total }\r\n        } else {\r\n            let discount = state.total * (action.data.percent/100.00)\r\n            if (state.shipping) {\r\n                return { ...state, promo: action.data,  discount: discount, subtotal: state.total - discount + state.shipping }\r\n            } else {\r\n                return { ...state, promo: action.data,  discount: discount, subtotal: state.total - discount }\r\n            }\r\n        }\r\n    } \r\n    if (action.type === CREATE_ORDER){\r\n        return { ...state, order: action.data.orderID }\r\n        // return { ...state, addedItems: [], promo: {}, total: 0, subtotal: 0,  discount: 0, shipping: 0, msg:'', order: action.data.orderID }\r\n    }\r\n    else {\r\n        return state\r\n    }\r\n}\r\n","import { BASE_URL } from './baseURL'\r\n\r\nexport const PAYMENT_INTENT = 'PAYMENT_INTENT';\r\n\r\nexport const paymentIntent = (params)=>{\r\n    return fetch(`${BASE_URL}/payment/payment_intent`, {\r\n        headers: { 'Content-Type':'application/json' },\r\n        credentials: 'include', \r\n        method: 'POST',\r\n        body: JSON.stringify(params)\r\n    }).then(res=>res.json())\r\n    .then(data=> data)\r\n}\r\n\r\n  ","import { BASE_URL } from './baseURL'\r\n\r\nexport const CREATE = 'CREATE';\r\nexport const REVIEWS = 'REVIEWS';\r\n\r\nexport const create = (params)=>{\r\n    return fetch(`${BASE_URL}/review/create_review`, {\r\n        headers: { 'Content-Type':'application/json' },\r\n        credentials: 'include', \r\n        method: 'POST',\r\n        body: JSON.stringify(params)\r\n    }).then(res=>res.json())\r\n    .then(data=> data)\r\n}\r\nexport const reviews = ()=>{\r\n    return fetch(`${BASE_URL}/review/reviews`, {\r\n        headers: { 'Content-Type':'application/json' },\r\n        credentials: 'include', \r\n        method: 'GET'\r\n    }).then(res=>res.json())\r\n    .then(data=> data)\r\n}\r\n\r\n\r\n  ","import { currentUser } from './userReducer'\r\nimport { cart } from './cartReducer'\r\nimport { payment } from './payReducer'\r\nimport { review } from './reviewReducer'\r\nimport { combineReducers } from 'redux'\r\n\r\nexport const rootReducer = combineReducers({\r\n    currentUser,\r\n    cart,\r\n    payment,\r\n    review\r\n})\r\n","import { PAYMENT_INTENT } from '../actions/payActions'\r\n\r\nexport const payment = (state={}, action)=>{\r\n    if (action.type=== PAYMENT_INTENT){\r\n        return { ...state, payment: action.payment}\r\n    } \r\n    else {\r\n        return state\r\n    }\r\n}\r\n","import { CREATE, REVIEWS } from '../actions/reviewActions'\r\n\r\nexport const review = (state={}, action)=>{\r\n    if (action.type === CREATE){\r\n        return { ...state, review: action.data}\r\n    } \r\n    if (action.type === REVIEWS){\r\n        return { ...state, review: action.data}\r\n    }\r\n    else {\r\n        return state\r\n    }\r\n}\r\n","\r\nexport default function MaintenancePage() {\r\n\r\n    return (\r\n        <div className='maintenance'>\r\n            <img src={process.env.PUBLIC_URL + '/images/kavaglam_logo_long.svg'} alt='KAVAGLAM' />\r\n            <ul>\r\n                <li>we'll be back soon</li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n","import './app.scss'\nimport { useState, useEffect } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux'\nimport { currentUser } from './actions/userActions'\nimport { currentCart } from './actions/cartActions'\nimport MaintenancePage from './components/MaintenancePage'\nimport Admin from './components/Admin'\nimport AdminAuth from './auth/AdminAuth'\nimport SuccessAuth from './auth/SuccessAuth';\nimport AuthRoute from './auth/AuthRoute';\nimport Subscribe from './components/Subscribe'\nimport Navbar from './components/Navbar';\nimport Footer from './components/Footer';\nimport Home from './components/Home';\nimport Products from './components/Products';\nimport SignInPage from './components/SignInPage';\nimport SignUpPage from './components/SignUpPage';\nimport Cart from './components/Cart'\nimport InfoForm from './components/InfoForm'\nimport Payment from './components/Payment'\nimport Success from './components/Success'\nimport About from './components/About'\nimport Faq from './components/Faq'\nimport Reviews from './components/Reviews'\nimport Shipping from './components/Shipping'\n\n\nexport default function App() {\n\tconst dispatch = useDispatch()\n\tconst { user, addedItems, profile, shipping, order } = useSelector(state => ({\n\t\tuser: state.currentUser,\n        addedItems: state.cart.addedItems,\n\t\tprofile: state.currentUser.profile,\n\t\tshipping: state.cart.shipping,\n\t\torder: state.cart.order\n    }))\n\tconst [showModal, setShowModal] = useState(false);\n    const handleModal = (e) => { e.preventDefault(); setShowModal(!showModal) };\n  \n\tuseEffect(()=>{\n\t\tdispatch(currentUser())\n\t\tdispatch(currentCart())\n\t\t// setTimeout(()=>{\n\t\t// \tsetShowModal(true)\n\t\t// }, 7000)\n\t}, [dispatch])\n\n  \treturn (\n\t\t<BrowserRouter>\n\t\t\t{process.env.REACT_APP_MAINTENANCE === 'true' ? (\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route component={MaintenancePage} />\n\t\t  \t\t</Switch>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t<Navbar handleModal={handleModal}  />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/about' render={(routeProps)=><About {...routeProps}/>} />\n\t\t\t\t\t<Route path='/faq' render={(routeProps)=><Faq {...routeProps}/>} />\n\t\t\t\t\t<Route path='/reviews' render={(routeProps)=><Reviews {...routeProps}/>} />\n\t\t\t\t\t<AuthRoute path='/info' isAuth={addedItems && addedItems.length} component={InfoForm} />\n\t\t\t\t\t<AuthRoute path='/shipping' isAuth={Object.keys(profile).length} component={Shipping} />\n\t\t\t\t\t<AuthRoute path='/payment' isAuth={shipping} component={Payment} />\n\t\t\t\t\t<SuccessAuth path='/success' isAuth={order} component={Success} />\n\t\t\t\t\t<AdminAuth path='/admin' isAuth={user} component={Admin} />\n\t\t\t\t\t<Route path='/products' render={(routeProps)=><Products {...routeProps}/>} />\n\t\t\t\t\t<Route path='/cart' render={(routeProps)=><Cart {...routeProps}/>} />\n\t\t\t\t\t<Route path='/sign_in' render={(routeProps)=><SignInPage {...routeProps}/>} />\n\t\t\t\t\t<Route path='/sign_up' render={(routeProps)=><SignUpPage {...routeProps}/>} />\n\t\t\t\t\t<Route path='/' component={Home} />\n\t\t\t\t</Switch>\n\t\t\t\t<Footer handleModal={handleModal} />\n        \t\t<Subscribe showModal={showModal} handleModal={handleModal} />\n\t\t\t\t</>\n\t\t\t)}\n\t\t</BrowserRouter>\n\t)\n}","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport { rootReducer } from './reducers/rootReducer';\nimport thunk from 'redux-thunk';\nimport App from './App';\nimport './index.scss';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap';\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from '@stripe/stripe-js';\nimport { initialState } from './initialState'\n\nexport const store = createStore(rootReducer, initialState, applyMiddleware(thunk))\n\nReactDOM.render(\n  <Provider store={store}>\n    <Elements stripe={loadStripe(process.env.REACT_APP_PUBLISHABLE_KEY)}>\n        <App />\n    </Elements>\n  </Provider>,\n  document.getElementById('root')\n);\n\n\n","// import { BASE_URL } from './actions/baseURL'\r\n// fetch(`${BASE_URL}/product/initial`).then(res=> res.json())\r\n//   .then(data=> initState.cart.items = data)\r\n\r\nexport const initialState = { cart: { addedItems:[], total: 0, promo: {}, items: \r\n        [\r\n            {\r\n                \"images\": [\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/main_conffeti.jpg\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0123.jpg\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0124.jpg\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0128.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0140.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0983.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0985.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0986.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_9649.JPG\"\r\n                ],\r\n                \"stock\": 100,\r\n                \"sale_price\": 68,\r\n                \"description\": \"Did you say Confetti? These beauties are in the perfect pastel colours with the softest and fluffiest bristles. They are absolutely so lush! These have a way to brighten up your vanity.\",\r\n                \"price\": 68,\r\n                \"productID\": \"Confetti Brush Set\"\r\n            },\r\n            {\r\n                \"images\": [\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/main_unicorn.jpg\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0492.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0498.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0548.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0551.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0999.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_9909.JPG\"\r\n                ],\r\n                \"stock\": 100,\r\n                \"sale_price\": 120,\r\n                \"description\": \"Here we have our beauty glamorous unicorn set. Featuring unicorn sparkly handles with white & pink Bristles. There nothing more magical than these beauties! These brushes are one of our only full size sets\",\r\n                \"price\": 120,\r\n                \"productID\": \"Unicorn Magic Brush Set\"\r\n            },\r\n            {\r\n                \"images\": [\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/main_mini_pink.jpg\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0142.jpg\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0148.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0974.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_9811.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_9848.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_9849.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_9850.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_9852.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_9901.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_9904.JPG\"\r\n                ],\r\n                \"stock\": 99,\r\n                \"sale_price\": 82,\r\n                \"description\": \"Pink is the new Black. Gorgeous pink handles with our twist of glam and of course with White and  pink bristles. They are seriously so soft and fluffy! This set has everything you need for your everyday look to your night out look. \",\r\n                \"price\": 82,\r\n                \"productID\": \"Mini Glam\"\r\n            },\r\n            {\r\n                \"images\": [\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/main_sponge.jpg\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0994.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_9898.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_9899.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_9913.JPG\"\r\n                ],\r\n                \"stock\": 100,\r\n                \"sale_price\": 15,\r\n                \"description\": \"The Beauty Sponge is the perfect way to get a flawless, professional-looking finish in seconds. Use it to blend out foundation for an almost airbrushed finish. How to use it? When wet, it becomes mega soft and mimics pores to create a natural airbrushed application easily. Plus, it absorbs water, not makeup, so your fave formulas land on your skin, not in your sponge.\",\r\n                \"price\": 15,\r\n                \"productID\": \"Pink Sparkle Beauty Sponge\"\r\n            },\r\n            {\r\n                \"images\": [\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/main_snow_bunny.jpg\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0961.jpg\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0962.jpg\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0963.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0964.jpg\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0965.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_0981.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_9900.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_9911.JPG\",\r\n                    \"https://kavaglam.s3.ca-central-1.amazonaws.com/IMG_E0972.JPG\"\r\n                ],\r\n                \"stock\": 99,\r\n                \"sale_price\": 58.5,\r\n                \"description\": \"Here we have our snow bunny brush set. Sleek white handles with gold but of course with a touch of pink on the bristles. Minimal makeup use? These have exactly what you need for your everyday look.\",\r\n                \"price\": 58.5,\r\n                \"productID\": \"Snow Bunny Brush Set\"\r\n            }\r\n        ]\r\n    }\r\n}"],"sourceRoot":""}